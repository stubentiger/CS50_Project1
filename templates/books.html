{% extends "layout.html" %}

{% block title %}
Search for books
{% endblock %}

{% block logout %}
<form action="{{ url_for('logout') }}" method="POST">
  <button class="btn btn-light" type="submit">Log out</button>
</form>
{% endblock %}

{% block body %}
  <div class="row">
    <div class="col">
      {% if search_string is none %}
      <h1>Hall√∂chen {{name}}! Start searching for books!</h1>
      {% endif %}
    </div>
  </div>

  <div class="row mt-2 mb-3">
    <div class="col">
      <form action="{{ url_for('books') }}" method="GET">
        <div class="input-group input-group-lg">
          {% if books %}
          <input name="search_input" type="text" class="form-control" value="{{ search_string }}" aria-describedby="button-addon2">
          {% elif books is none %}
          <input name="search_input" type="text" class="form-control" placeholder="Search by isbn, title or author" aria-describedby="button-addon2">
          {% endif %}
          <div class="input-group-append">
            <button class="btn btn-outline-primary" type="submit">Search</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="row">
    <div class="col">
      {% if error %}
        <p>{{ error }}</p>
      {% endif %}
    </div>
  </div>

  <div class="row mt-2 mb-3">
    <div class="col">
      {% if books %}
      <ul class="list-group">
        {% for (isbn, title, author) in books %}
          <li class="list-group-item"><a href="{{ url_for('book_page', isbn=isbn) }}">{{ title }}</a> written by {{ author }}</li>
       {% endfor %}
      </ul>
      {% endif %}
    </div>
  </div>

{% endblock %}
